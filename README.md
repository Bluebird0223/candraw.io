# CanDraw.io - Real-Time Collaborative Canvas

A real-time, global collaborative drawing application built with Next.js, Socket.IO, and Supabase.

## üöÄ Features

- **Global Canvas**: Everyone draws on the same infinite canvas in real-time.
- **Persistence**: Drawings are saved automatically to Supabase.
- **Live Collaboration**: See changes from other users instantly via Socket.IO.
- **Share Implementation**: "Publish" your view of the canvas to a permanent snapshot link.
- **Custom UI**:
  - Dynamic cursor showing brush size and color.
  - Floating toolbar for color/width selection.
  - Dark mode optimized.

## üõ†Ô∏è Tech Stack

- **Frontend**: [Next.js 14+](https://nextjs.org/) (App Router), [TypeScript](https://www.typescriptlang.org/), [Tailwind CSS](https://tailwindcss.com/)
- **Canvas Library**: [React Konva](https://konvajs.org/docs/react/index.html)
- **Real-time**: [Socket.IO](https://socket.io/) (Custom Next.js API integration)
- **Database**: [Supabase](https://supabase.com/) (PostgreSQL)

## üì¶ Getting Started

### Prerequisites

- Node.js 18+
- A Supabase account

### Installation

1.  **Clone the repository:**
    ```bash
    git clone https://github.com/Bluebird0223/candraw.io.git
    cd candraw.io
    ```

2.  **Install dependencies:**
    ```bash
    npm install
    ```

3.  **Set up Environment Variables:**
    Create a `.env.local` file in the root directory:
    ```env
    NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
    NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
    SUPABASE_SERVICE_KEY=your_supabase_service_role_key
    ```
    *(Note: `SUPABASE_SERVICE_KEY` is optional if you disable RLS, but recommended for admin tasks).*

4.  **Database Setup:**
    Run the following SQL in your Supabase SQL Editor to create the necessary tables:
    ```sql
    -- Create drawings table
    create table if not exists drawings (
      id bigint generated by default as identity primary key,
      points jsonb not null,
      color text not null,
      width integer not null,
      created_at timestamp with time zone default timezone('utc'::text, now()) not null
    );

    -- Create snapshots table
    create table if not exists snapshots (
      id uuid default gen_random_uuid() primary key,
      lines jsonb not null,
      created_at timestamp with time zone default timezone('utc'::text, now()) not null
    );

    -- Disable RLS for public access (Simple Setup)
    alter table drawings disable row level security;
    alter table snapshots disable row level security;
    ```

5.  **Run the development server:**
    ```bash
    npm run dev
    ```

6.  Open [http://localhost:3000](http://localhost:3000) to start drawing!

## ü§ù How to Collaborate

We welcome contributions! specifically looking for help with:

-   **Optimization**: Improving canvas performance with many thousands of strokes.
-   **Undo/Redo**: Implementing history state.
-   **Mobile Support**: Better touch handling for phones/tablets.

### Steps to Contribute

1.  **Fork** the repository.
2.  **Clone** your fork locally.
3.  Create a new **branch** for your feature: `git checkout -b feature/amazing-feature`.
4.  **Commit** your changes: `git commit -m 'Add some amazing feature'`.
5.  **Push** to the branch: `git push origin feature/amazing-feature`.
6.  Open a **Pull Request**.

## üìÑ License

This project is open source and available under the [MIT License](LICENSE).
